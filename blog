#!/bin/bash

source "/usr/local/bin/blog_module"

action=""
entry_number=""
file_name=""
style=""

# Takes in action and options as variables. 
if [ $# -gt 0 ]; then
        action="$1"
        shift
else 
	blog_help
	exit 1
fi

while getopts 'f:e:a:s:' OPT; do
        case "$OPT" in
                f)
                        file_name="$OPTARG"
                        ;;
                e)
                        entry_number="$OPTARG"
                        ;;
		s)
			style="$OPTARG"
			;;
                h)
                        blog_help
                        ;;
		?)
			blog_help
			exit 1
			;;
        esac
done
shift "$((OPTIND -1))"

# Checks if entered action is valid, if not returns a helpful error.
case "$action" in
	read)
		blog_read
		;;
	write)
		blog_write
		;;
	edit)
		blog_edit
		;;
	delete)
		blog_delete
		;;
	backup)
		blog_backup
		;;
	publish)
		local_publish
		;;
	help)
		blog_help
		;;
	?)
		echo -e "You've entered an invalid argument. Run \"blog help\" for more info."
		exit 1
		;;
esac
